(()=>{"use strict";window.onload=function(){const e=document.querySelector(".header");window.scrollY>0&&e.classList.add("scroll"),window.addEventListener("scroll",(function(){window.scrollY>0?e.classList.add("scroll"):e.classList.remove("scroll")})),document.addEventListener("click",(function(e){const t=e.target;if(t.closest(".menu__icon")){const e=t.closest(".menu__icon");document.querySelector(".menu__body").classList.toggle("open"),e.classList.toggle("active"),document.body.classList.toggle("lock")}if(t.closest(".video-main-block__icon")||t.closest(".video-main-block__label")?(document.querySelector(".popup-video-main-block").classList.add("active"),document.body.classList.add("lock-popup")):t.closest(".popup-video-main-block__body")||(document.querySelector(".popup-video-main-block").classList.remove("active"),document.body.classList.remove("lock-popup")),t.closest(".video-experts__play")){t.closest(".video-experts__play").classList.add("remove");const e=document.querySelector(".video-experts__video");e.play(),e.controls=!0}})),new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),s={};s.element=e,s.parent=e.parentNode,s.destination=document.querySelector(`${t[0].trim()}`),s.breakpoint=t[1]?t[1].trim():"767",s.place=t[2]?t[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,s)=>s.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),s=window.matchMedia(t[0]),i=t[1],o=this.оbjects.filter((({breakpoint:e})=>e===i));s.addEventListener("change",(()=>{this.mediaHandler(s,o)})),this.mediaHandler(s,o)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:s})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,s)}))}moveTo(e,t,s){t.classList.add(this.daClassname),"last"===e||e>=s.children.length?s.append(t):"first"!==e?s.children[e].before(t):s.prepend(t)}moveBack(e,t,s){t.classList.remove(this.daClassname),void 0!==e.children[s]?e.children[s].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint))}}("max").init();const t=document.querySelectorAll(".anim-item");if(t.length>0){function s(){for(let e=0;e<t.length;e++){const s=t[e],o=s.offsetHeight,n=i(s).top,a=4;let c=window.innerHeight-o/a;o>window.innerHeight&&(c=window.innerHeight-window.innerHeight/a),scrollY>n-c&&scrollY<n+o?s.classList.add("active"):s.classList.contains("anim-no-hide")||s.classList.remove("active")}}function i(e){const t=e.getBoundingClientRect(),s=window.scrollX||document.documentElement.scrollLeft,i=window.scrollY||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+s}}window.addEventListener("scroll",s),setTimeout((()=>{s()}),300)}}})();